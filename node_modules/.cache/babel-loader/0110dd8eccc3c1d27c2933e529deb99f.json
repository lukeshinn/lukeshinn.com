{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import _objectSpread from\"/Users/lukeshinn/repos/samples-js-react/okta-hosted-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/lukeshinn/repos/samples-js-react/okta-hosted-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/lukeshinn/repos/samples-js-react/okta-hosted-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/lukeshinn/repos/samples-js-react/okta-hosted-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*\n * Copyright (c) 2018, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */import React from'react';import{Route,Switch,useHistory}from'react-router-dom';import{OktaAuth,toRelativeUrl}from'@okta/okta-auth-js';import{Security,SecureRoute,LoginCallback}from'@okta/okta-react';import{Container}from'semantic-ui-react';import config from'./config';import Home from'./Home';import Messages from'./Messages';import Navbar from'./Navbar';import Profile from'./Profile';import CorsErrorModal from'./CorsErrorModal';var oktaAuth=new OktaAuth(config.oidc);var App=function App(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),corsErrorModalOpen=_React$useState2[0],setCorsErrorModalOpen=_React$useState2[1];var history=useHistory();var restoreOriginalUri=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_oktaAuth,originalUri){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:history.replace(toRelativeUrl(originalUri,window.location.origin));case 1:case\"end\":return _context.stop();}}},_callee);}));return function restoreOriginalUri(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Security,{oktaAuth:oktaAuth,restoreOriginalUri:restoreOriginalUri,children:[/*#__PURE__*/_jsx(Navbar,_objectSpread({},{setCorsErrorModalOpen:setCorsErrorModalOpen})),/*#__PURE__*/_jsx(CorsErrorModal,_objectSpread({},{corsErrorModalOpen:corsErrorModalOpen,setCorsErrorModalOpen:setCorsErrorModalOpen})),/*#__PURE__*/_jsx(Container,{text:true,style:{marginTop:'7em'},children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,component:Home}),/*#__PURE__*/_jsx(Route,{path:\"/login/callback\",component:LoginCallback}),/*#__PURE__*/_jsx(SecureRoute,{path:\"/messages\",component:Messages}),/*#__PURE__*/_jsx(SecureRoute,{path:\"/profile\",component:Profile})]})})]});};export default App;","map":{"version":3,"sources":["/Users/lukeshinn/repos/samples-js-react/okta-hosted-login/src/App.jsx"],"names":["React","Route","Switch","useHistory","OktaAuth","toRelativeUrl","Security","SecureRoute","LoginCallback","Container","config","Home","Messages","Navbar","Profile","CorsErrorModal","oktaAuth","oidc","App","useState","corsErrorModalOpen","setCorsErrorModalOpen","history","restoreOriginalUri","_oktaAuth","originalUri","replace","window","location","origin","marginTop"],"mappings":"oxBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,CAAgBC,MAAhB,CAAwBC,UAAxB,KAA0C,kBAA1C,CACA,OAASC,QAAT,CAAmBC,aAAnB,KAAwC,oBAAxC,CACA,OAASC,QAAT,CAAmBC,WAAnB,CAAgCC,aAAhC,KAAqD,kBAArD,CACA,OAASC,SAAT,KAA0B,mBAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CAEA,GAAMC,CAAAA,QAAQ,CAAG,GAAIZ,CAAAA,QAAJ,CAAaM,MAAM,CAACO,IAApB,CAAjB,CAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,qBACoClB,KAAK,CAACmB,QAAN,CAAe,KAAf,CADpC,oDACTC,kBADS,qBACWC,qBADX,qBAEhB,GAAMC,CAAAA,OAAO,CAAGnB,UAAU,EAA1B,CACA,GAAMoB,CAAAA,kBAAkB,0FAAG,iBAAOC,SAAP,CAAkBC,WAAlB,kHACzBH,OAAO,CAACI,OAAR,CAAgBrB,aAAa,CAACoB,WAAD,CAAcE,MAAM,CAACC,QAAP,CAAgBC,MAA9B,CAA7B,EADyB,sDAAH,kBAAlBN,CAAAA,kBAAkB,gDAAxB,CAIA,mBACE,MAAC,QAAD,EAAU,QAAQ,CAAEP,QAApB,CAA8B,kBAAkB,CAAEO,kBAAlD,wBACE,KAAC,MAAD,kBAAY,CAAEF,qBAAqB,CAArBA,qBAAF,CAAZ,EADF,cAEE,KAAC,cAAD,kBAAoB,CAAED,kBAAkB,CAAlBA,kBAAF,CAAsBC,qBAAqB,CAArBA,qBAAtB,CAApB,EAFF,cAGE,KAAC,SAAD,EAAW,IAAI,KAAf,CAAgB,KAAK,CAAE,CAAES,SAAS,CAAE,KAAb,CAAvB,uBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,CAAsB,SAAS,CAAEnB,IAAjC,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,iBAAZ,CAA8B,SAAS,CAAEH,aAAzC,EAFF,cAGE,KAAC,WAAD,EAAa,IAAI,CAAC,WAAlB,CAA8B,SAAS,CAAEI,QAAzC,EAHF,cAIE,KAAC,WAAD,EAAa,IAAI,CAAC,UAAlB,CAA6B,SAAS,CAAEE,OAAxC,EAJF,GADF,EAHF,GADF,CAcD,CArBD,CAuBA,cAAeI,CAAAA,GAAf","sourcesContent":["/*\n * Copyright (c) 2018, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport React from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport { OktaAuth, toRelativeUrl } from '@okta/okta-auth-js';\nimport { Security, SecureRoute, LoginCallback } from '@okta/okta-react';\nimport { Container } from 'semantic-ui-react';\nimport config from './config';\nimport Home from './Home';\nimport Messages from './Messages';\nimport Navbar from './Navbar';\nimport Profile from './Profile';\nimport CorsErrorModal from './CorsErrorModal';\n\nconst oktaAuth = new OktaAuth(config.oidc);\n\nconst App = () => {\n  const [corsErrorModalOpen, setCorsErrorModalOpen] = React.useState(false);\n  const history = useHistory();\n  const restoreOriginalUri = async (_oktaAuth, originalUri) => {\n    history.replace(toRelativeUrl(originalUri, window.location.origin));\n  };\n\n  return (\n    <Security oktaAuth={oktaAuth} restoreOriginalUri={restoreOriginalUri}>\n      <Navbar {...{ setCorsErrorModalOpen }} />\n      <CorsErrorModal {...{ corsErrorModalOpen, setCorsErrorModalOpen }} />\n      <Container text style={{ marginTop: '7em' }}>\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/login/callback\" component={LoginCallback} />\n          <SecureRoute path=\"/messages\" component={Messages} />\n          <SecureRoute path=\"/profile\" component={Profile} />\n        </Switch>\n      </Container>\n    </Security>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}