{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/lukeshinn/repos/samples-js-react/okta-hosted-login/src/Navbar.jsx\",\n    _s = $RefreshSig$();\n\n/*\n * Copyright (c) 2018, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { useOktaAuth } from '@okta/okta-react';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Container, Icon, Image, Menu } from 'semantic-ui-react';\n\nconst Navbar = ({\n  setCorsErrorModalOpen\n}) => {\n  _s();\n\n  const {\n    authState,\n    oktaAuth\n  } = useOktaAuth(); // Note: Can't distinguish CORS error from other network errors\n\n  const isCorsError = err => err.name === 'AuthApiError' && !err.errorCode && err.xhr.message === 'Failed to fetch';\n\n  const login = async () => oktaAuth.signInWithRedirect();\n\n  const logout = async () => {\n    try {\n      await oktaAuth.signOut();\n    } catch (err) {\n      if (isCorsError(err)) {\n        setCorsErrorModalOpen(true);\n      } else {\n        throw err;\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Menu, {\n      fixed: \"top\",\n      inverted: true,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n          header: true,\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            size: \"mini\",\n            src: \"/react.svg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Okta-React Sample Project\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), authState.isAuthenticated && /*#__PURE__*/_jsxDEV(Menu.Item, {\n          id: \"messages-button\",\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            name: \"mail outline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/messages\",\n            children: \"Messages\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), authState.isAuthenticated && /*#__PURE__*/_jsxDEV(Menu.Item, {\n          id: \"profile-button\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/profile\",\n            children: \"Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), authState.isAuthenticated && /*#__PURE__*/_jsxDEV(Menu.Item, {\n          id: \"logout-button\",\n          onClick: logout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), !authState.isPending && !authState.isAuthenticated && /*#__PURE__*/_jsxDEV(Menu.Item, {\n          onClick: login,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Navbar, \"XFnfjrqktn2GIu+f3Siekv/ekaU=\", false, function () {\n  return [useOktaAuth];\n});\n\n_c = Navbar;\nexport default Navbar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"sources":["/Users/lukeshinn/repos/samples-js-react/okta-hosted-login/src/Navbar.jsx"],"names":["useOktaAuth","React","Link","Container","Icon","Image","Menu","Navbar","setCorsErrorModalOpen","authState","oktaAuth","isCorsError","err","name","errorCode","xhr","message","login","signInWithRedirect","logout","signOut","isAuthenticated","isPending"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,KAA1B,EAAiCC,IAAjC,QAA6C,mBAA7C;;AAEA,MAAMC,MAAM,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAA+B;AAAA;;AAC5C,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAA0BV,WAAW,EAA3C,CAD4C,CAG5C;;AACA,QAAMW,WAAW,GAAIC,GAAD,IAAUA,GAAG,CAACC,IAAJ,KAAa,cAAb,IAA+B,CAACD,GAAG,CAACE,SAApC,IAAiDF,GAAG,CAACG,GAAJ,CAAQC,OAAR,KAAoB,iBAAnG;;AAEA,QAAMC,KAAK,GAAG,YAAYP,QAAQ,CAACQ,kBAAT,EAA1B;;AAEA,QAAMC,MAAM,GAAG,YAAY;AACzB,QAAI;AACF,YAAMT,QAAQ,CAACU,OAAT,EAAN;AACD,KAFD,CAEE,OAAOR,GAAP,EAAY;AACZ,UAAID,WAAW,CAACC,GAAD,CAAf,EAAsB;AACpBJ,QAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD,OAFD,MAEO;AACL,cAAMI,GAAN;AACD;AACF;AACF,GAVD;;AAYA,sBACE;AAAA,2BACE,QAAC,IAAD;AAAM,MAAA,KAAK,EAAC,KAAZ;AAAkB,MAAA,QAAQ,MAA1B;AAAA,6BACE,QAAC,SAAD;AAAA,gCACE,QAAC,IAAD,CAAM,IAAN;AAAW,UAAA,MAAM,MAAjB;AAAA,kCACE,QAAC,KAAD;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,GAAG,EAAC;AAAvB;AAAA;AAAA;AAAA;AAAA,kBADF,uBAGE,QAAC,IAAD;AAAM,YAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAMGH,SAAS,CAACY,eAAV,iBACD,QAAC,IAAD,CAAM,IAAN;AAAW,UAAA,EAAE,EAAC,iBAAd;AAAA,kCACE,QAAC,IAAD;AAAM,YAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,IAAD;AAAM,YAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF,EAYGZ,SAAS,CAACY,eAAV,iBACC,QAAC,IAAD,CAAM,IAAN;AAAW,UAAA,EAAE,EAAC,gBAAd;AAAA,iCACE,QAAC,IAAD;AAAM,YAAA,EAAE,EAAC,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAbJ,EAiBGZ,SAAS,CAACY,eAAV,iBACC,QAAC,IAAD,CAAM,IAAN;AAAW,UAAA,EAAE,EAAC,eAAd;AAA8B,UAAA,OAAO,EAAEF,MAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlBJ,EAoBG,CAACV,SAAS,CAACa,SAAX,IAAwB,CAACb,SAAS,CAACY,eAAnC,iBACC,QAAC,IAAD,CAAM,IAAN;AAAW,UAAA,OAAO,EAAEJ,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBArBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA8BD,CAlDD;;GAAMV,M;UAC4BP,W;;;KAD5BO,M;AAmDN,eAAeA,MAAf","sourcesContent":["/*\n * Copyright (c) 2018, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { useOktaAuth } from '@okta/okta-react';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Container, Icon, Image, Menu } from 'semantic-ui-react';\n\nconst Navbar = ({ setCorsErrorModalOpen }) => {\n  const { authState, oktaAuth } = useOktaAuth();\n\n  // Note: Can't distinguish CORS error from other network errors\n  const isCorsError = (err) => (err.name === 'AuthApiError' && !err.errorCode && err.xhr.message === 'Failed to fetch');\n\n  const login = async () => oktaAuth.signInWithRedirect();\n\n  const logout = async () => {\n    try {\n      await oktaAuth.signOut();\n    } catch (err) {\n      if (isCorsError(err)) {\n        setCorsErrorModalOpen(true);\n      } else {\n        throw err;\n      }\n    }\n  };\n\n  return (\n    <div>\n      <Menu fixed=\"top\" inverted>\n        <Container>\n          <Menu.Item header>\n            <Image size=\"mini\" src=\"/react.svg\" />\n            &nbsp;\n            <Link to=\"/\">Okta-React Sample Project</Link>\n          </Menu.Item>\n          {authState.isAuthenticated && (\n          <Menu.Item id=\"messages-button\">\n            <Icon name=\"mail outline\" />\n            <Link to=\"/messages\">Messages</Link>\n          </Menu.Item>\n          )}\n          {authState.isAuthenticated && (\n            <Menu.Item id=\"profile-button\">\n              <Link to=\"/profile\">Profile</Link>\n            </Menu.Item>\n          )}\n          {authState.isAuthenticated && (\n            <Menu.Item id=\"logout-button\" onClick={logout}>Logout</Menu.Item>\n          )}\n          {!authState.isPending && !authState.isAuthenticated && (\n            <Menu.Item onClick={login}>Login</Menu.Item>\n          )}\n        </Container>\n      </Menu>\n    </div>\n  );\n};\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}