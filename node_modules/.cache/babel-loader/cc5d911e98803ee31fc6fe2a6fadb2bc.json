{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";/*\n * Copyright (c) 2018, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */import React from'react';import{Modal}from'semantic-ui-react';import config from'./config';var CorsErrorModal=function CorsErrorModal(_ref){var corsErrorModalOpen=_ref.corsErrorModalOpen,setCorsErrorModalOpen=_ref.setCorsErrorModalOpen;// Build URL to \"Trusted Origins\" page in Admin panel\nvar issuer=config.oidc.issuer;var baseUrl=issuer.split('/oauth2')[0];var hostParts=new URL(baseUrl).host.split('.');hostParts[0]+='-admin';var adminHost=hostParts.join('.');var corsAdminUrl=\"https://\".concat(adminHost,\"/admin/access/api/trusted_origins\");// URL to guide for enabling CORS\nvar guideUrl='https://developer.okta.com/docs/guides/enable-cors/granting-cors/';// CORS error modal\nreturn/*#__PURE__*/_jsxs(Modal,{onClose:function onClose(){return setCorsErrorModalOpen(false);},open:corsErrorModalOpen,closeIcon:true,children:[/*#__PURE__*/_jsx(Modal.Header,{children:\"Network Error\"}),/*#__PURE__*/_jsx(Modal.Content,{children:/*#__PURE__*/_jsxs(Modal.Description,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Seems like logout API call resulted with CORS error.\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You may need to add your origin\",' ',window.location.origin,' ',\"to list of trusted origins in your\",' ',/*#__PURE__*/_jsx(\"a\",{href:corsAdminUrl,target:\"_blank\",rel:\"noreferrer\",children:\"Okta Administrator Dashboard\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Read\",' ',/*#__PURE__*/_jsx(\"a\",{href:guideUrl,target:\"_blank\",rel:\"noreferrer\",children:\"this guide\"}),' ',\"for more info.\"]})]})})]});};export default CorsErrorModal;","map":{"version":3,"sources":["/Users/lukeshinn/repos/samples-js-react/okta-hosted-login/src/CorsErrorModal.jsx"],"names":["React","Modal","config","CorsErrorModal","corsErrorModalOpen","setCorsErrorModalOpen","issuer","oidc","baseUrl","split","hostParts","URL","host","adminHost","join","corsAdminUrl","guideUrl","window","location","origin"],"mappings":"wFAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,KAAsB,mBAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAmD,IAAhDC,CAAAA,kBAAgD,MAAhDA,kBAAgD,CAA5BC,qBAA4B,MAA5BA,qBAA4B,CACxE;AADwE,GAEhEC,CAAAA,MAFgE,CAErDJ,MAAM,CAACK,IAF8C,CAEhED,MAFgE,CAGxE,GAAME,CAAAA,OAAO,CAAGF,MAAM,CAACG,KAAP,CAAa,SAAb,EAAwB,CAAxB,CAAhB,CACA,GAAMC,CAAAA,SAAS,CAAG,GAAIC,CAAAA,GAAJ,CAAQH,OAAR,EAAiBI,IAAjB,CAAsBH,KAAtB,CAA4B,GAA5B,CAAlB,CACAC,SAAS,CAAC,CAAD,CAAT,EAAgB,QAAhB,CACA,GAAMG,CAAAA,SAAS,CAAGH,SAAS,CAACI,IAAV,CAAe,GAAf,CAAlB,CACA,GAAMC,CAAAA,YAAY,mBAAcF,SAAd,qCAAlB,CAEA;AACA,GAAMG,CAAAA,QAAQ,CAAG,mEAAjB,CAEA;AACA,mBACE,MAAC,KAAD,EACE,OAAO,CAAE,yBAAMX,CAAAA,qBAAqB,CAAC,KAAD,CAA3B,EADX,CAEE,IAAI,CAAED,kBAFR,CAGE,SAAS,KAHX,wBAKE,KAAC,KAAD,CAAO,MAAP,4BALF,cAME,KAAC,KAAD,CAAO,OAAP,wBACE,MAAC,KAAD,CAAO,WAAP,yBACE,2EADF,cAEE,uDAEG,GAFH,CAGGa,MAAM,CAACC,QAAP,CAAgBC,MAHnB,CAIG,GAJH,sCAMG,GANH,cAOE,UAAG,IAAI,CAAEJ,YAAT,CAAuB,MAAM,CAAC,QAA9B,CAAuC,GAAG,CAAC,YAA3C,0CAPF,GAFF,cAWE,4BAEG,GAFH,cAGE,UAAG,IAAI,CAAEC,QAAT,CAAmB,MAAM,CAAC,QAA1B,CAAmC,GAAG,CAAC,YAAvC,wBAHF,CAIG,GAJH,oBAXF,GADF,EANF,GADF,CA8BD,CA3CD,CA4CA,cAAeb,CAAAA,cAAf","sourcesContent":["/*\n * Copyright (c) 2018, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport React from 'react';\nimport { Modal } from 'semantic-ui-react';\nimport config from './config';\n\nconst CorsErrorModal = ({ corsErrorModalOpen, setCorsErrorModalOpen }) => {\n  // Build URL to \"Trusted Origins\" page in Admin panel\n  const { issuer } = config.oidc;\n  const baseUrl = issuer.split('/oauth2')[0];\n  const hostParts = new URL(baseUrl).host.split('.');\n  hostParts[0] += '-admin';\n  const adminHost = hostParts.join('.');\n  const corsAdminUrl = `https://${adminHost}/admin/access/api/trusted_origins`;\n\n  // URL to guide for enabling CORS\n  const guideUrl = 'https://developer.okta.com/docs/guides/enable-cors/granting-cors/';\n\n  // CORS error modal\n  return (\n    <Modal\n      onClose={() => setCorsErrorModalOpen(false)}\n      open={corsErrorModalOpen}\n      closeIcon\n    >\n      <Modal.Header>Network Error</Modal.Header>\n      <Modal.Content>\n        <Modal.Description>\n          <p>Seems like logout API call resulted with CORS error.</p>\n          <p>\n            You may need to add your origin\n            {' '}\n            {window.location.origin}\n            {' '}\n            to list of trusted origins in your\n            {' '}\n            <a href={corsAdminUrl} target=\"_blank\" rel=\"noreferrer\">Okta Administrator Dashboard</a>\n          </p>\n          <p>\n            Read\n            {' '}\n            <a href={guideUrl} target=\"_blank\" rel=\"noreferrer\">this guide</a>\n            {' '}\n            for more info.\n          </p>\n        </Modal.Description>\n      </Modal.Content>\n    </Modal>\n  );\n};\nexport default CorsErrorModal;\n"]},"metadata":{},"sourceType":"module"}